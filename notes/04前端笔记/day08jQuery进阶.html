jQuery进阶

------------
fade 褪去,褪色
slide 滑落



1.jQuery特殊效果
2.链式调用
3.属性操作
4.jQuery循环
5.jQuery事件

想一想:1.哪些是标签自带属性?哪些是样式属性?
		2.怎么将jQuery标签对象转成js标签对象
			如何将js标签对象转换成jQuery对象
			$div[0].innerHTML



		宽度			时间(毫秒)	动画效果  回调函数 
	animate({'width':'%100'},2000,'swing',function () {})
		swing曲线,linear匀速
		后面三个都可以省略,时间默认值为400毫秒,动画效果默认值'swing',可以不回调函数,即后面不再进行其他操作

1.jQuery的特殊效果(重点)

	1.fade 淡入淡出
		1.淡入
		$div.fadeIn(2000);
		2.淡出
		$div.fadeOut(2000);
		3.切换
		$div.fadeToggle(2000);
		注意:淡入淡出的顺序和display:none,和block的先后顺序

	拓展:
            $div.fadeTo(2000,0);
            //参数1:时间,
            // 参数2:透明度



	2.显示隐藏:
		如果不设置,一般默认都是显示

		1.隐藏hide():
		2.显示show();
		3.切换toggle();


		注:toggle之所以能切换显示,是因为它能修改内容的显示,如将display变为none或者block
			hide()函数和show()函数也是如此!
-----------------------------------------------------		
            $btn.click(function () {

            //1.隐藏
            // $div.hide();
            //2.显示
            // $div.show();
            //3.如果是显示的就让他隐藏,如果是隐藏的就让他显示,还可以来回切换
            // $div.toggle();

            // $div.css({'display':'block'});


            //4.下面这几行if判断代码相当于上面代码3的功能即toggle!
            if ($div.css('display') == 'none') {
                //当前是隐藏
                $div.css({'display':'block'});
                //让他显示出来
            }   else {
                $div.css({'display':'none'});
                //如果当前点击按钮时已经是显示状态,那么就让它隐藏
            }

		
			第三种转换显示与隐藏的方法:三目运算
            	//5.三目运算:(条件) ? yes : no 条件成立输出yes,条件不成立输出no
                //如果在if或else里面在修改一个变量/属性的值时就可以用三目
                //(10>5) ? 2:10  

                $div.css({'display':($div.css('display') == 'none') ? 
                'block':'none'});

		注:给按钮标签对象添加点击事件,在事件中,使用隐藏,显示,切换	的方法
-------------------------------------------------------------

		了解:三目运算: 10> 5 ? 2:10 条件成立返回2,不成立返回10


	3.卷开  卷起
		1.卷开
		$div.slideDown();
		2.卷起
		$div.slideUp();
		3.toggle
		$div.slideToggle();

       	$div.stop().slideToggle();
        //stop(),函数可以解决因连续点击造成的反应迟滞

		注:slideDown,Up,Toggle改的是display和height!


2.jQuery链式调用:

	jQuery对象的方法会在执行完后返回这个jQuery对象，所有jQuery对象的方法可以连起来写


3.层级菜单案例

	1.把当前点击的a标签下面的ul标签展开或卷起:
	$(this).next().slideToggle();

	2.当前点击的a标签->它的亲爹->除了亲爹以外的几个叔伯->
      ->找叔伯的ul这个儿子->卷起来(即我在展开,其他堂哥堂弟都要卷起)
      $(this).parent().siblings().children('ul').slideUp();

      合起来链式写法:
      	$(this).next().slideToggle().parent().siblings().children('ul').slideUp();


4.jQuery操作属性:(重点)

	1.prop() 获取和设置标签属性
		读取的时候用双引号包裹属性即可
		设置属性时，要用{}包裹属性(只能对标签对象自带属性进行设置，如：class，href，id，像css属性就不能用此方法设置（color，width），css属性要用css来进行设置
		$(this).css({'color':'red'}));

         /给属性赋值都会覆盖旧值,box1 会覆盖原来的box
        $div.prop({'class':'box1'});
	
	拓展:$div.attr()跟prop()效果是一样的,attr()  					更强大,还可以给标签添加自定义属性,获取自定义属性的值.

	2.val() 获取及设置value的属性
		input标签的值获取及设置

        // val() 主要是用来获取文本输入框中 输入的内容 value属性值
        // 如果此函数里面什么也不传就是获取值
        // 如果传东西就是赋值
        //    alert($input.val('123'));

	3.html() 获取和修改标签包裹的内容:
		如果此函数里面什么也不传就是获取标签里面包裹的内容
		如果html()里面传入参数,表示要修改html里面的内容
			$div.html('修改后的内容')


5.对话框案例

	val()获取input标签的value
	1.先获取到需要操作的标签

	2.给发送按钮添加点击事件

	3.获取文档输入框中的value

	4.判断当前文本输入框是否有输入内容	

	5.把消息内容显示出来
		5.1判断a说还是b说
		5.2修改标签包裹内容,显示内容
		5.3重新修改标签里面包裹内容时,注意拼接之前的旧消息
		(可以使用三目来写if判断语句!)
        //html() 不传值就是取值,传值就是替换原来的值
        $words.html($words.html() + sStr);

        三目写5.1判断:sStr = '<div class='+
        ( ($who.val() == '0') ? '"atalk"><span>A' : '"btalk"><span>B' )
        +'说:'+ sMessageCon +'</span></div>';


	6.消息发送完成之后,清空输入框中的文字
		$messageIpt.val(''); 就是给它赋空值


6.jQuery的循环遍历(重点)

	1.each(可以遍历jQuery对象,类似于for循环)

	2.遍历的函数内 this表示当前遍历出来的元素(标签对象)  表示一个元素动态类型

        /each 中的this 表示当前正遍历出的那个标签对象
        /each 函数中传的 匿名函数可以传两个形参
        /形参1:遍历是的索引/标签的索引
        /形参2:遍历出来的那个标签对象和动态的this同一个对象
        $lis.each(function (i, elem) {
            if ($(this).index() % 2 == 0) {
                $(this).css({'color':'red'});

            } 
            
            console.log(i + elem);

    注:each遍历的是jQuery选中的标签对象,elem是一个原生js对象,如果	要用需要$(elem)
-------------------------------------------------


7.手风琴效果案例:(重点)

	1.更改当前点击li标签前面和后面的元素left值

	2.去到右边的位置

	***************************************
	1.获取到5个li标签

	2.给五个li标签添加点击事件

		2.1把当前点击的li标签的left  动态的去修改
		2.2处理跳跃点击的问题
		2.3点击谁,让谁后面的所有li标签回到右边对应的位置

		


8.焦点事件(只针对input标签对象!)

	1.focus()让文本输入框自动获取焦点
		让文本输入框自动获取焦点,一显示就可以直接输入
		$input.focus();

	2.blur()失去焦点
		失去焦点,输入完成,不能再输入的那一刻:

            $input.blur(function () {

                console.log('验证,输入内容是否满足规则');
            })

		注:blur一般来验证输入完成的那一刻,即失去焦点的那一刻,输入内容是否满足规则,
			如账号密码是否符合规则!
	

9.鼠标事件()

	1.进入子元素.会触发事件(不建议使用,有bug)
		mouseover
		mouseOut
		摸到儿子的时候,儿子也会产生点击事件,事件也会传到父亲身上
		根本停不下来,用stop可以解决.但是只能走最后一次

	注:重复触发的原因是因为冒泡事件!!


	2.进入子元素,不会触发事件--建议使用

		mouseenter() 鼠标进入（进入子元素不触发）
		mouseleave() 鼠标离开（离开子元素不触发）

		hover() 同时为mouseenter和mouseleave事件指定处理函数

		$div01.hover(function (event) {
   		 $(this).animate({'margin-top':event.type == 'mouseenter' ? 100 : 50});
		})



	注:hover()函数相当于mouseenter和mouseleave的结合体
		此hover不是之前的那个伪类,但是也可以同伪类一样设置悬停设置css

***********************************
小技巧:
1.Ctrl + D 可以选中多个标签进行操作



----------------------------------------------------------
总结:


1.添加点击事件:
	如果给一个标签添加点击事件,那么针对这个点击事件而产生的效果的函数也要写在这个点击函数里面去,这样点击的时候才能执行ok!

	        //文档准备
        $(function () {
            //获取5个a标签并给她们添加点击事件
            $('.level1').click(function () {
                //把之前点击的a标签下面的ul标签展开或卷起
                $(this).next().slideToggle();

                //当前点击的a标签->它的亲爹->除了亲爹以外的几个叔伯->
                //->找叔伯的ul这个儿子->卷起来
                $(this).parent().siblings().children('ul').slideUp();
                
            })

            
        })



2.如何将原生js标签对象转换为jQuery对象,事实上,当我们使用jQuery编程的时候,每次准备数据,给变量赋值的时候其实都是在转换类型
	: var $div = $('.box');
	其实还可以直接使用时转换:$('.box').click(function () {})

	将原生jQuery标签对象转换为原生js对象: $div[0] 




3.层级菜单案例:

    //文档准备
    $(function () {
        //获取5个a标签并给她们添加点击事件
        $('.level1').click(function () {
            //1.把之前点击的a标签下面的ul标签展开或卷起
            $(this).next().slideToggle();
            //解读:this是点击的标签,即a标签,next选中的是它的同级的ul,让
            //ul里的标签展开或卷起

            //2.当前点击的a标签->它的亲爹->除了亲爹以外的几个叔伯->
            //->找叔伯的ul这个儿子->卷起来
            $(this).parent().siblings().children('ul').slideUp();
            //解读:最终是要让除自己在展开,其他ul在我展开的时候都得卷起!

            //3.上面两个代码可以合并为一行 链式的,因为在
            $(this).next().slideToggle().parent().siblings().children('ul').slideUp();
  


4. 凡是动画效果的函数括号里都可以传时间参数,如果不传,也会有默认参数!
	如淡入淡出;fadeIn(),fadeOut(),fadeToggle()....fadeTo(2000,0.2)
	展开卷起:slideDown(),slideUp(),slideToggle()

	拉伸宽度:animate({},2000,'swing',function () {})


5. 三目运算:(条件) ? yes : no 条件成立输出yes,条件不成立输出no
   如果在if或else里面在修改一个变量/属性的值时就可以用三目
              (10>5) ? 2:10  


6.在点击事件里,如果用到this,this是表示当前的点击事件的标签,


7.在鼠标触发事件mouseover(),的时候,由于鼠标触发过快,导致animate处理不过来
	这个时候可以在animate前面放stop()函数,来只执行最后一次操作!

复习:input!

























































































































